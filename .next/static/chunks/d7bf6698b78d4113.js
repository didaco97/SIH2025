(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,519455,e=>{"use strict";var s=e.i(843476),r=e.i(271645),t=e.i(991918),a=e.i(225913),l=e.i(975157);let i=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:r,size:a,asChild:d=!1,...n},c)=>{let o=d?t.Slot:"button";return(0,s.jsx)(o,{className:(0,l.cn)(i({variant:r,size:a,className:e})),ref:c,...n})});d.displayName="Button",e.s(["Button",()=>d])},531278,e=>{"use strict";let s=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],531278)},515288,e=>{"use strict";var s=e.i(843476),r=e.i(271645),t=e.i(975157);let a=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("div",{ref:a,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let l=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("div",{ref:a,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("h3",{ref:a,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let d=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("p",{ref:a,className:(0,t.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let n=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("div",{ref:a,className:(0,t.cn)("p-6 pt-0",e),...r}));n.displayName="CardContent";let c=r.forwardRef(({className:e,...r},a)=>(0,s.jsx)("div",{ref:a,className:(0,t.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>d,"CardFooter",()=>c,"CardHeader",()=>l,"CardTitle",()=>i])},269638,e=>{"use strict";let s=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],269638)},878894,e=>{"use strict";let s=(0,e.i(475254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],878894)},727612,e=>{"use strict";let s=(0,e.i(475254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],727612)},908758,e=>{"use strict";var s=e.i(843476),r=e.i(271645),t=e.i(519455),a=e.i(515288),l=e.i(727612),i=e.i(531278),d=e.i(878894),n=e.i(269638);e.i(436180);var c=e.i(98925),o=e.i(959141),m=e.i(846696);function h(){let[e,h]=(0,r.useState)(!1),[f,u]=(0,r.useState)(null),x=async()=>{if(h(!0),!o.db){m.toast.error("Database not initialized"),h(!1);return}let e=o.db;try{let s=(0,c.collection)(e,"claims"),r=await (0,c.getDocs)(s);console.log(`Deleting ${r.docs.length} claims...`);let t=r.docs.map(s=>(0,c.deleteDoc)((0,c.doc)(e,"claims",s.id)));await Promise.all(t),m.toast.success(`Deleted ${r.docs.length} claims`),u(e=>({...e,claims:r.docs.length,farms:e?.farms||0}))}catch(e){console.error("Error:",e),m.toast.error(`Error: ${e.message}`)}finally{h(!1)}},g=async()=>{if(h(!0),!o.db){m.toast.error("Database not initialized"),h(!1);return}let e=o.db;try{let s=(0,c.collection)(e,"segmented_farms"),r=await (0,c.getDocs)(s);console.log(`Deleting ${r.docs.length} farms...`);let t=r.docs.map(s=>(0,c.deleteDoc)((0,c.doc)(e,"segmented_farms",s.id)));await Promise.all(t),m.toast.success(`Deleted ${r.docs.length} segmented farms`),u(e=>({claims:e?.claims||0,farms:r.docs.length}))}catch(e){console.error("Error:",e),m.toast.error(`Error: ${e.message}`)}finally{h(!1)}},p=async()=>{if(h(!0),!o.db){m.toast.error("Database not initialized"),h(!1);return}let e=o.db;try{let s=(0,c.collection)(e,"claims"),r=await (0,c.getDocs)(s),t=r.docs.map(s=>(0,c.deleteDoc)((0,c.doc)(e,"claims",s.id)));await Promise.all(t);let a=(0,c.collection)(e,"segmented_farms"),l=await (0,c.getDocs)(a),i=l.docs.map(s=>(0,c.deleteDoc)((0,c.doc)(e,"segmented_farms",s.id)));await Promise.all(i),m.toast.success(`Deleted ${r.docs.length} claims and ${l.docs.length} farms`),u({claims:r.docs.length,farms:l.docs.length})}catch(e){console.error("Error:",e),m.toast.error(`Error: ${e.message}`)}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Database Cleanup"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Remove all test data from Firestore"})]}),f&&(0,s.jsx)(a.Card,{className:"border-green-500/50 bg-green-500/5",children:(0,s.jsx)(a.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)(n.CheckCircle,{className:"w-5 h-5"}),(0,s.jsxs)("span",{className:"font-medium",children:["Deleted: ",f.claims," claims, ",f.farms," farms"]})]})})}),(0,s.jsxs)(a.Card,{className:"border-red-500/50",children:[(0,s.jsxs)(a.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.AlertTriangle,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)(a.CardTitle,{className:"text-red-500",children:"Danger Zone"})]}),(0,s.jsx)(a.CardDescription,{children:"Click any button below to immediately delete data. No confirmation."})]}),(0,s.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"Clear All Claims"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Delete all claims from Firestore"})]}),(0,s.jsx)(t.Button,{variant:"destructive",onClick:x,disabled:e,children:e?(0,s.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Claims"]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"Clear All Segmented Farms"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Delete all segmented farms from Firestore"})]}),(0,s.jsx)(t.Button,{variant:"destructive",onClick:g,disabled:e,children:e?(0,s.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Farms"]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-500 rounded-lg bg-red-500/5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-red-500",children:"Clear Everything"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Delete ALL claims and segmented farms"})]}),(0,s.jsx)(t.Button,{variant:"destructive",onClick:p,disabled:e,className:"bg-red-600 hover:bg-red-700",children:e?(0,s.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Trash2,{className:"w-4 h-4 mr-2"}),"Delete All Data"]})})]})]})]})]})})}e.s(["default",()=>h])}]);