(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,91762,e=>{"use strict";var a=e.i(391398),t=e.i(191788),s=e.i(674534),r=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var l=e.i(648684),i=e.i(353533);let o=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)(r,{ref:s,className:(0,i.cn)(o(),e),...t}));n.displayName=r.displayName,e.s(["Label",()=>n],91762)},317176,(e,a,t)=>{"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},910432,(e,a,t)=>{"use strict";var s=e.r(317176);function r(){}function l(){}l.resetWarningCache=r,a.exports=function(){function e(e,a,t,r,l,i){if(i!==s){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,elementType:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:l,resetWarningCache:r};return t.PropTypes=t,t}},691567,(e,a,t)=>{a.exports=e.r(910432)()},639671,e=>{"use strict";var a=e.i(391398),t=e.i(421471),s=e.i(806793),r=e.i(576255),l=e.i(72538);let i=[{title:"Main Dashboard",url:"/farmer",icon:s.LayoutDashboard},{title:"Claims",url:"/farmer/claims",icon:r.FileText},{title:"Analytics",url:"/farmer/analytics",icon:l.BarChart3}];function o(){return(0,a.jsx)("aside",{className:"w-56 min-h-screen bg-card border-r border-border shadow-sidebar",children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,a.jsx)("img",{src:"/logo.png",alt:"Kisan Portal",className:"w-10 h-10 rounded-xl object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-display font-bold text-foreground text-sm",children:"Kisan Portal"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Crop Insurance"})]})]}),(0,a.jsx)("nav",{className:"space-y-1",children:i.map(e=>(0,a.jsxs)(t.NavLink,{to:e.url,end:"/farmer"===e.url,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-muted-foreground hover:bg-secondary hover:text-foreground transition-all duration-200 text-sm",activeClassName:"bg-primary/10 text-primary font-medium",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.title})]},e.title))})]})})}e.s(["FarmerSidebar",()=>o])},713584,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return s}});let s=e.r(741705)._(e.r(191788)).default.createContext({})},894470,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},443915,e=>{"use strict";var a=e.i(391398),t=e.i(191788),s=e.i(353533);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));r.displayName="Textarea",e.s(["Textarea",()=>r])},889461,e=>{"use strict";let a=(0,e.i(369547).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],889461)},700386,e=>{"use strict";e.i(645726);var a=e.i(897691),t=e.i(337153);function s(){if(!t.storage)throw Error("Firebase Storage is not configured. Please set up your .env.local file with Firebase credentials. Copy .env.example to .env.local and add your Firebase config.");return t.storage}async function r(e,t,r){let l=(0,a.ref)(s(),t);if(!r)return await (0,a.uploadBytes)(l,e),(0,a.getDownloadURL)(l);{let t=(0,a.uploadBytesResumable)(l,e);return new Promise((e,s)=>{t.on("state_changed",e=>{r(e.bytesTransferred/e.totalBytes*100)},e=>{s(e)},async()=>{e(await (0,a.getDownloadURL)(t.snapshot.ref))})})}}async function l(e,a,t,s){let l=Date.now(),i=e.name.replace(/[^a-zA-Z0-9.-]/g,"_");return r(e,t?`documents/${a}/${t}/${l}_${i}`:`documents/${a}/${l}_${i}`,s)}async function i(e,t,r){let l=Date.now(),i=r.replace(/[^a-zA-Z0-9.-]/g,"_"),o=`reports/${t}/${l}_${i}`,n=(0,a.ref)(s(),o);return await (0,a.uploadBytes)(n,e),(0,a.getDownloadURL)(n)}e.s(["uploadDocument",()=>l,"uploadReportPDF",()=>i])},815553,e=>{"use strict";var a=e.i(391398),t=e.i(639671),s=e.i(939310),r=e.i(45124),l=e.i(91762),i=e.i(443915),o=e.i(690176),n=e.i(797858),c=e.i(444292),d=e.i(576255),m=e.i(699117),u=e.i(322138),h=e.i(543999),p=e.i(947710),x=e.i(675878),g=e.i(889461),f=e.i(191788),v=e.i(198311),j=e.i(498817),b=e.i(389573),y=e.i(289454),N=e.i(496318),w=e.i(700386);e.i(581516);var S=e.i(290954),C=e.i(679935),F=e.i(217837);function D(){let{t:e}=(0,n.useLanguage)(),{user:D,userProfile:T,isConfigured:I}=(0,c.useAuth)(),P=(0,F.useRouter)(),[L,k]=(0,f.useState)(null),[A,R]=(0,f.useState)(!1),[O,_]=(0,f.useState)(!1),[E,U]=(0,f.useState)(null),[B,$]=(0,f.useState)(null),[z,M]=(0,f.useState)(null),[V,W]=(0,f.useState)({farmerId:"",farmerName:"",otherNames:"",village:"",district:"",surveyNo:"",farmCoordinates:"",cropType:"",area:"",policyNumber:"",lossDate:"",lossType:"",cropStage:"",harvestDate:"",description:""}),[q,G]=(0,f.useState)([]),[H,Y]=(0,f.useState)(null),[K,X]=(0,f.useState)(!1);(0,f.useEffect)(()=>{B&&Y(B)},[B]);let J=async e=>[],Z=async()=>{if(B){_(!0),U(null),M(null);try{var e;let a,t,s,r,l,i,o,n=[];n="application/pdf"===B.type?await J(B):[await new Promise(e=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.readAsDataURL(B)})];let c="",d=null;for(let e=0;e<n.length;e++){let a=await fetch("/api/ocr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:n[e]})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to extract text")}let t=await a.json();c+=t.text,t.structuredData&&(!d||0===e)&&(d=t.structuredData)}let m=d||(e=c,a=e=>e?.replace(/[:\-\.]/g,"").trim()||"",t=e.match(/गाव\s*[:\-]+\s*(?!नमुना)([^\s\n]+)/)||e.match(/Village\s*[:\-]+\s*([^\s\n]+)/i),s=e.match(/तालुका\s*[:\-]+\s*([^\s\n]+)/)||e.match(/Taluka\s*[:\-]+\s*([^\s\n]+)/i),r=e.match(/जिल्हा\s*[:\-]+\s*([^\s\n]+)/)||e.match(/District\s*[:\-]+\s*([^\s\n]+)/i),l=e.match(/भूमापन\s*क्रमांक\s*[:\-\s]*([\d\w\/]+)/)||e.match(/गट\s*क्रमांक\s*[:\-\s]*([\d\w\/]+)/)||e.match(/Survey\s*No\.?\s*[:\-\s]*([\d\w\/]+)/i),i=e.match(/खातेदारांची\s*नावे\s*[:\-]*\s*([^\n]+)/)||e.match(/खातेदार\s*[:\-]*\s*([^\n]+)/)||e.match(/Name\s*[:\-]*\s*([^\n]+)/i),o=e.match(/एकूण\s*[:\-\s]*([\d\.१२३४५६७८९०]+)/)||e.match(/क्षेत्र\s*[:\-\s]*([\d\.१२३४५६७८९०]+)/)||e.match(/Area\s*[:\-\s]*([\d\.]+)/i),{surveyNumber:a(l?.[1]||""),ownerName:a(i?.[1]||""),village:a(t?.[1]||""),taluka:a(s?.[1]||""),district:a(r?.[1]||""),area:o?.[1]?(e=>{if(!e)return e;let a={"०":"0","१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9"};return e.replace(/[०-९]/g,e=>a[e]||e)})(o[1]):"",coordinates:"Not Found"});M(m);let u=m.area?.replace(/[^\d.]/g,"");W(e=>({...e,otherNames:"Not Found"!==m.ownerName?m.ownerName:e.otherNames,village:"Not Found"!==m.village?m.village:e.village,district:"Not Found"!==m.district?m.district:e.district,surveyNo:"Not Found"!==m.surveyNumber?m.surveyNumber:e.surveyNo,area:u||e.area,description:`${e.description}

Auto-detected from 7/12:
Survey No: ${m.surveyNumber}
Coordinates: ${m.coordinates||"Not Found"}`.trim()})),C.toast.success("Document analyzed & form auto-filled!")}catch(e){console.error("Analysis Error:",e),U(e.message||"Failed to analyze document"),C.toast.error("Analysis failed")}finally{_(!1)}}},Q=async e=>{if(e.preventDefault(),console.log("Auth State:",{user:D?.uid,isConfigured:I,userProfile:T}),!D?.uid||!I)return void C.toast.error((0,a.jsxs)("div",{children:["Please ",(0,a.jsx)("a",{href:"/login",className:"underline font-bold",children:"log in"})," to submit a claim"]}));if(!V.farmerId||!V.farmerName||!V.lossType||!V.cropStage||!V.lossDate)return void C.toast.error("Please fill in all required fields");try{let e,a,t;R(!0);let s=[];for(let e of q){let a=await (0,w.uploadDocument)(e,D.uid);s.push(a)}if(H&&(e=await (0,w.uploadDocument)(H,D.uid)),V.farmCoordinates){let e=V.farmCoordinates.split(",").map(e=>parseFloat(e.trim()));2!==e.length||isNaN(e[0])||isNaN(e[1])||(a=e[0],t=e[1])}let r={farmerId:V.farmerId,farmerName:V.farmerName,userId:D.uid,filedBy:"farmer",village:V.village,district:V.district||T?.district||"",surveyNumber:V.surveyNo||"",cropType:V.cropType||"Rice",area:parseFloat(V.area)||0,areaUnit:"acres",policyNumber:V.policyNumber||"",lossType:V.lossType,lossDate:S.Timestamp.fromDate(new Date(V.lossDate)),cropStage:V.cropStage,description:V.description||"",amount:0,status:"pending",documents:s,document712Url:e||""};void 0!==a&&(r.latitude=a),void 0!==t&&(r.longitude=t),V.harvestDate&&(r.harvestDate=S.Timestamp.fromDate(new Date(V.harvestDate))),await (0,N.createClaim)(r),C.toast.success("Claim filed successfully!"),P.push("/farmer/claims")}catch(e){console.error("Error submitting claim:",e),C.toast.error(e.message||"Failed to submit claim")}finally{R(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(t.FarmerSidebar,{}),(0,a.jsx)("main",{className:"flex-1 p-2 overflow-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 max-w-[1800px] items-start",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-foreground font-display",children:"File New Claim"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"AI-Assisted Claim Filing Process"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-xl border border-border shadow-sm p-5 h-fit",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(p.Sparkles,{className:"w-5 h-5 text-primary"}),"1. Upload 7/12 for Analysis"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload the 7/12 document extract. Our AI will analyze it to auto-fill the claim form details."}),(0,a.jsx)("div",{className:"w-full border border-dashed bg-muted/30 border-border rounded-lg overflow-hidden min-h-[200px] mb-4",children:(0,a.jsx)(b.FileUpload,{onChange:e=>{e?.[0]&&($(e[0]),M(null),U(null))}})}),E&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-2 text-red-600 text-sm",children:[(0,a.jsx)(x.AlertCircle,{className:"w-4 h-4 mt-0.5"}),(0,a.jsx)("span",{children:E})]}),(0,a.jsx)(s.Button,{onClick:Z,disabled:!B||O,className:"w-full gap-2",size:"lg",children:O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"w-5 h-5 animate-spin"}),"Analyzing Document..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Scan,{className:"w-5 h-5"}),"Analyze & Auto-Fill"]})}),z&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-700 font-medium mb-2",children:[(0,a.jsx)(g.CheckCircle2,{className:"w-5 h-5"}),"Analysis Complete"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Owner:"})," ",z.ownerName]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Village:"})," ",z.village]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Area:"})," ",z.area]}),(0,a.jsx)("p",{className:"text-xs mt-2 text-green-600",children:"Form fields have been auto-filled."})]})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-xl border border-border shadow-sm p-5 h-fit",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Proof Upload (Geotag Photos)"}),(0,a.jsx)("div",{className:"w-full border border-dashed bg-muted/30 border-border rounded-lg overflow-hidden min-h-[120px]",children:(0,a.jsx)(b.FileUpload,{onChange:e=>G(e),onPreview:k})}),q.length>0&&(0,a.jsx)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:q.map((e,t)=>(0,a.jsxs)("div",{className:"relative group aspect-square rounded-lg overflow-hidden border border-border bg-muted/20",children:[e.type.startsWith("image/")?(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-full h-full object-cover cursor-pointer hover:opacity-80 transition",onClick:()=>k(e)}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(d.FileText,{className:"w-8 h-8 text-muted-foreground"})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-[10px] px-1 py-0.5 truncate",children:e.name})]},t))}),(0,a.jsx)(s.Button,{onClick:async()=>{if(0===q.length)return void C.toast.error("Please upload an image first");X(!0);try{for(let e of q)if(e.type.startsWith("image/")){let a=await new Promise(a=>{let t=new FileReader;t.onloadend=()=>a(t.result),t.readAsDataURL(e)}),t=await fetch("/api/ocr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:a})});if(t.ok){let e=await t.json(),a=e.text||"";if(console.log("OCR Text:",a),console.log("Structured Data:",e.structuredData),e.structuredData?.coordinates&&"Not Found"!==e.structuredData.coordinates){let a=e.structuredData.coordinates.match(/(-?\d+\.?\d*)[°\s,]+(-?\d+\.?\d*)/);if(a){let e=parseFloat(a[1]),t=parseFloat(a[2]);if(!isNaN(e)&&!isNaN(t)){let a=`${e.toFixed(6)}, ${t.toFixed(6)}`;W(e=>({...e,farmCoordinates:a})),C.toast.success("Coordinates extracted!",{description:a}),X(!1);return}}}for(let e of[/Lat\s*(-?\d+\.?\d*)°?\s*Long\s*(-?\d+\.?\d*)°?/i,/(-?\d{1,3}\.\d{2,})\s*°?\s*[,\s]+\s*(-?\d{1,3}\.\d{2,})\s*°?/,/lat[itude]*\s*[:=]?\s*(-?\d+\.?\d*)\s*[°,\s]+long[itude]*\s*[:=]?\s*(-?\d+\.?\d*)/i,/[NS]\s*(-?\d+\.?\d*)\s*[,\s]+[EW]\s*(-?\d+\.?\d*)/i]){let t=a.match(e);if(t){console.log("Regex matched:",e,t);let a=parseFloat(t[1]),s=parseFloat(t[2]);if(!isNaN(a)&&!isNaN(s)&&90>=Math.abs(a)&&180>=Math.abs(s)){let e=`${a.toFixed(6)}, ${s.toFixed(6)}`;W(a=>({...a,farmCoordinates:e})),C.toast.success("Coordinates extracted!",{description:e}),X(!1);return}}}}}C.toast.error("No coordinates found in images")}catch(e){console.error("OCR extraction failed:",e),C.toast.error("Failed to extract coordinates")}X(!1)},disabled:0===q.length||K,className:"w-full mt-3 gap-2",variant:"outline",children:K?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin"}),"Extracting Coordinates..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Scan,{className:"w-4 h-4"}),"Extract Coordinates from Image"]})})]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-card rounded-xl border border-border shadow-sm p-4 md:p-5 h-fit",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"2. Claim Application Form"}),(0,a.jsxs)("form",{className:"space-y-3",onSubmit:Q,children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"farmer-id",children:"Farmer ID *"}),(0,a.jsx)(r.Input,{id:"farmer-id",placeholder:"Enter Farmer ID",className:"h-9",value:V.farmerId,onChange:e=>W({...V,farmerId:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"other-names",children:"Owner Names (from 7/12)"}),(0,a.jsx)(r.Input,{id:"other-names",placeholder:"Extracted names...",className:"h-9 bg-muted/20",value:V.otherNames,readOnly:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"farmer-name",children:"Farmer Name (Manual Entry) *"}),(0,a.jsx)(r.Input,{id:"farmer-name",placeholder:"Enter Farmer Name",className:"h-9",value:V.farmerName,onChange:e=>W({...V,farmerName:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"village",children:"Village"}),(0,a.jsx)(r.Input,{id:"village",placeholder:"Village (Auto-filled)",className:"h-9 bg-muted/20",value:V.village,onChange:e=>W({...V,village:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"district",children:"District"}),(0,a.jsx)(r.Input,{id:"district",placeholder:"District (Auto-filled)",className:"h-9 bg-muted/20",value:V.district,onChange:e=>W({...V,district:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"survey-no",children:"Survey / Gat No"}),(0,a.jsx)(r.Input,{id:"survey-no",placeholder:"Survey No (Auto-filled)",className:"h-9 bg-muted/20",value:V.surveyNo,onChange:e=>W({...V,surveyNo:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"crop-type",children:"Crop Type"}),(0,a.jsxs)(o.Select,{value:V.cropType,onValueChange:e=>W({...V,cropType:e}),children:[(0,a.jsx)(o.SelectTrigger,{id:"crop-type",className:"h-9",children:(0,a.jsx)(o.SelectValue,{placeholder:"Select Crop"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"Rice",children:"Rice"}),(0,a.jsx)(o.SelectItem,{value:"Wheat",children:"Wheat"}),(0,a.jsx)(o.SelectItem,{value:"Cotton",children:"Cotton"}),(0,a.jsx)(o.SelectItem,{value:"Sugarcane",children:"Sugarcane"}),(0,a.jsx)(o.SelectItem,{value:"Maize",children:"Maize"}),(0,a.jsx)(o.SelectItem,{value:"Onion",children:"Onion"}),(0,a.jsx)(o.SelectItem,{value:"Grape",children:"Grape"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"area",children:"Area (Acres)"}),(0,a.jsx)(r.Input,{id:"area",type:"text",placeholder:"Area (Auto-filled)",className:"h-9 bg-muted/20",value:V.area,onChange:e=>W({...V,area:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"policy-number",children:"Policy Number"}),(0,a.jsxs)(o.Select,{value:V.policyNumber,onValueChange:e=>W({...V,policyNumber:e}),children:[(0,a.jsx)(o.SelectTrigger,{id:"policy-number",className:"h-9",children:(0,a.jsx)(o.SelectValue,{placeholder:"Select Policy"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"PMFBY-2023-001",children:"PMFBY-2023-001 (Rice)"}),(0,a.jsx)(o.SelectItem,{value:"PMFBY-2023-002",children:"PMFBY-2023-002 (Wheat)"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"loss-date",children:"Date of Loss *"}),(0,a.jsx)(r.Input,{type:"date",id:"loss-date",className:"h-9",value:V.lossDate,onChange:e=>W({...V,lossDate:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"loss-type",children:"Type of Loss *"}),(0,a.jsxs)(o.Select,{value:V.lossType,onValueChange:e=>W({...V,lossType:e}),children:[(0,a.jsx)(o.SelectTrigger,{id:"loss-type",className:"h-9",children:(0,a.jsx)(o.SelectValue,{placeholder:"Select Loss Type"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"drought",children:"Drought"}),(0,a.jsx)(o.SelectItem,{value:"flood",children:"Flood / Excess Rain"}),(0,a.jsx)(o.SelectItem,{value:"pest",children:"Pest Attack"}),(0,a.jsx)(o.SelectItem,{value:"fire",children:"Fire"}),(0,a.jsx)(o.SelectItem,{value:"landslide",children:"Landslide"}),(0,a.jsx)(o.SelectItem,{value:"hailstorm",children:"Hailstorm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"crop-stage",children:"Crop Stage *"}),(0,a.jsxs)(o.Select,{value:V.cropStage,onValueChange:e=>W({...V,cropStage:e}),children:[(0,a.jsx)(o.SelectTrigger,{id:"crop-stage",className:"h-9",children:(0,a.jsx)(o.SelectValue,{placeholder:"Select Stage"})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"sowing",children:"Sowing / Planting"}),(0,a.jsx)(o.SelectItem,{value:"vegetative",children:"Vegetative Growth"}),(0,a.jsx)(o.SelectItem,{value:"flowering",children:"Flowering"}),(0,a.jsx)(o.SelectItem,{value:"maturity",children:"Maturity / Harvesting"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"harvest-date",children:"Date of Harvest (Optional)"}),(0,a.jsx)(r.Input,{type:"date",id:"harvest-date",className:"h-9",value:V.harvestDate,onChange:e=>W({...V,harvestDate:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.Label,{htmlFor:"farm-coordinates",children:"Farm Coordinates"}),(0,a.jsx)(r.Input,{id:"farm-coordinates",placeholder:"e.g. 19.0760, 72.8777",className:"h-9",value:V.farmCoordinates,onChange:e=>W({...V,farmCoordinates:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5 pt-2",children:[(0,a.jsx)(l.Label,{htmlFor:"description",children:"Description of Loss"}),(0,a.jsx)(i.Textarea,{id:"description",placeholder:"Describe how the damage occurred... (Auto-filled with additional data)",className:"min-h-[100px] resize-none",value:V.description,onChange:e=>W({...V,description:e.target.value})})]}),(0,a.jsxs)("div",{className:"pt-4 flex justify-end gap-3",children:[(0,a.jsx)(s.Button,{variant:"outline",type:"button",size:"sm",onClick:()=>P.push("/farmer/claims"),children:"Cancel"}),(0,a.jsx)(s.Button,{type:"submit",className:"gap-2",size:"sm",disabled:A||!I,children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Send,{className:"w-4 h-4"}),"Submit Claim"]})})]})]})]})})]})}),(0,a.jsx)(j.AnimatePresence,{children:L&&(0,a.jsx)(v.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>k(null),children:(0,a.jsxs)(v.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white dark:bg-neutral-900 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:()=>k(null),className:"absolute top-4 right-4 p-2 rounded-full bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 transition-colors z-10",children:(0,a.jsx)(y.IconX,{className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"p-2 h-full flex items-center justify-center bg-neutral-100 dark:bg-neutral-950",children:L.type.startsWith("image/")?(0,a.jsx)("img",{src:URL.createObjectURL(L),alt:"Preview",className:"max-w-full max-h-[80vh] object-contain rounded-md"}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 p-12",children:[(0,a.jsx)(d.FileText,{className:"w-16 h-16 text-neutral-400"}),(0,a.jsx)("p",{className:"text-lg font-medium text-neutral-700 dark:text-neutral-300",children:L.name}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:"Preview not available for this file type"})]})})]})})})]})}e.s(["default",()=>D])},846388,(e,a,t)=>{let s="/farmer/FarmerFileClaim";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(815553)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([s])})},648761,e=>{e.v(a=>Promise.all(["static/chunks/8e259bf0d2304537.js"].map(a=>e.l(a))).then(()=>a(493594)))},828805,e=>{e.v(a=>Promise.all(["static/chunks/820c94ec438563d7.js"].map(a=>e.l(a))).then(()=>a(879466)))}]);