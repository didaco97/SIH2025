(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,317176,(e,s,t)=>{"use strict";s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},910432,(e,s,t)=>{"use strict";var a=e.r(317176);function r(){}function l(){}l.resetWarningCache=r,s.exports=function(){function e(e,s,t,r,l,i){if(i!==a){var n=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function s(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:l,resetWarningCache:r};return t.PropTypes=t,t}},691567,(e,s,t)=>{s.exports=e.r(910432)()},639671,e=>{"use strict";var s=e.i(391398),t=e.i(421471),a=e.i(806793),r=e.i(576255),l=e.i(72538);let i=[{title:"Main Dashboard",url:"/farmer",icon:a.LayoutDashboard},{title:"Claims",url:"/farmer/claims",icon:r.FileText},{title:"Analytics",url:"/farmer/analytics",icon:l.BarChart3}];function n(){return(0,s.jsx)("aside",{className:"w-56 min-h-screen bg-card border-r border-border shadow-sidebar",children:(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"Kisan Portal",className:"w-10 h-10 rounded-xl object-contain"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-display font-bold text-foreground text-sm",children:"Kisan Portal"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Crop Insurance"})]})]}),(0,s.jsx)("nav",{className:"space-y-1",children:i.map(e=>(0,s.jsxs)(t.NavLink,{to:e.url,end:"/farmer"===e.url,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-muted-foreground hover:bg-secondary hover:text-foreground transition-all duration-200 text-sm",activeClassName:"bg-primary/10 text-primary font-medium",children:[(0,s.jsx)(e.icon,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:e.title})]},e.title))})]})})}e.s(["FarmerSidebar",()=>n])},713584,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return a}});let a=e.r(741705)._(e.r(191788)).default.createContext({})},894470,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},611651,e=>{"use strict";var s=e.i(391398),t=e.i(639671),a=e.i(447903),r=e.i(185849),l=e.i(533538),i=e.i(457541),n=e.i(450095),o=e.i(430788),c=e.i(391756),d=e.i(756043),m=e.i(850520),x=e.i(322138),h=e.i(398957),p=e.i(891680),u=e.i(432237),f=e.i(939310),j=e.i(41158),g=e.i(45124),v=e.i(690176),N=e.i(191788),y=e.i(496318),b=e.i(444292),w=e.i(679935),C=e.i(378097),S=e.i(321020),T=e.i(756902),P=e.i(976835),k=e.i(526626),A=e.i(694713),O=e.i(723451),_=e.i(586536),R=e.i(865749),F=e.i(300244),B=e.i(480687);let D=[{month:"Jan",claims:45,approved:30},{month:"Feb",claims:52,approved:35},{month:"Mar",claims:38,approved:28},{month:"Apr",claims:65,approved:45},{month:"May",claims:95,approved:60},{month:"Jun",claims:150,approved:90},{month:"Jul",claims:210,approved:140},{month:"Aug",claims:180,approved:120},{month:"Sep",claims:120,approved:95},{month:"Oct",claims:85,approved:65},{month:"Nov",claims:55,approved:45},{month:"Dec",claims:40,approved:35}],L=[{name:"Flood",value:35,color:"hsl(200, 70%, 50%)"},{name:"Drought",value:25,color:"hsl(45, 90%, 55%)"},{name:"Pest",value:20,color:"hsl(142, 60%, 45%)"},{name:"Fire",value:12,color:"hsl(10, 80%, 55%)"},{name:"Other",value:8,color:"hsl(150, 30%, 60%)"}],z={pending:{label:"Pending",class:"status-pending",icon:d.Clock},waiting:{label:"Under Review",class:"status-waiting",icon:n.Eye},approved:{label:"Approved",class:"status-approved",icon:o.CheckCircle},rejected:{label:"Rejected",class:"status-rejected",icon:c.XCircle}};function I(){let{user:e,isConfigured:c}=(0,b.useAuth)(),[I,E]=(0,N.useState)([]),[U,K]=(0,N.useState)(!0),[M,G]=(0,N.useState)(""),[W,X]=(0,N.useState)("all"),[V,$]=(0,N.useState)(null),[H,J]=(0,N.useState)(null),[Y,q]=(0,N.useState)(!1),Q=async()=>{if(!c||!e?.uid)return void K(!1);try{K(!0);let e=await (0,y.getAllClaims)();E(e)}catch(e){console.error("Error fetching claims:",e),w.toast.error("Failed to load claims")}finally{K(!1)}};(0,N.useEffect)(()=>{Q()},[c,e]);let Z=I.filter(e=>{let s=e.claimNumber?.toLowerCase().includes(M.toLowerCase())||e.farmerName?.toLowerCase().includes(M.toLowerCase())||e.farmerId?.toLowerCase().includes(M.toLowerCase()),t="all"===W||e.status===W;return s&&t}),ee={total:I.length,pending:I.filter(e=>"pending"===e.status).length,approved:I.filter(e=>"approved"===e.status).length,rejected:I.filter(e=>"rejected"===e.status).length};return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("div",{className:"fixed left-0 top-0 z-40",children:(0,s.jsx)(t.FarmerSidebar,{})}),(0,s.jsxs)("main",{className:"ml-64 p-6 overflow-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground font-display",children:"My Claims"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track and manage your insurance claims"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(f.Button,{variant:"outline",size:"icon",onClick:Q,disabled:U,children:(0,s.jsx)(h.RefreshCw,{className:`w-4 h-4 ${U?"animate-spin":""}`})}),(0,s.jsxs)(j.default,{href:"/farmer/file-claim",children:[" ",(0,s.jsxs)(f.Button,{className:"gap-2 bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",children:[(0,s.jsx)(m.FilePlus,{className:"w-4 h-4"}),"New Claim"]})]}),(0,s.jsxs)(f.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(a.Bell,{className:"w-5 h-5 text-muted-foreground"}),ee.pending>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-danger-zone rounded-full text-xs text-white flex items-center justify-center",children:ee.pending})]}),(0,s.jsx)(f.Button,{variant:"ghost",size:"icon",className:"bg-secondary",children:(0,s.jsx)(r.User,{className:"w-5 h-5 text-muted-foreground"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(m.FilePlus,{className:"w-5 h-5 text-primary"}),(0,s.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,s.jsx)(p.TrendingUp,{className:"w-3 h-3 mr-1"})," +1"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"My Claims"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ee.total})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(o.CheckCircle,{className:"w-5 h-5 text-vegetation"}),(0,s.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,s.jsx)(p.TrendingUp,{className:"w-3 h-3 mr-1"})," 100%"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Approved"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ee.approved})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(d.Clock,{className:"w-5 h-5 text-golden"}),(0,s.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,s.jsx)(p.TrendingUp,{className:"w-3 h-3 mr-1"})," -2 days"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Processing Time"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-foreground",children:"5 Days"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)(u.AlertTriangle,{className:"w-5 h-5 text-danger-zone"})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Action"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-foreground",children:ee.pending})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-card rounded-2xl shadow-card p-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground font-display mb-4",children:"Claim History"}),(0,s.jsx)(O.ResponsiveContainer,{width:"100%",height:200,children:(0,s.jsxs)(C.AreaChart,{data:D,children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"claimsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"hsl(200, 70%, 50%)",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"hsl(200, 70%, 50%)",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"approvedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"hsl(142, 60%, 45%)",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"hsl(142, 60%, 45%)",stopOpacity:0})]})]}),(0,s.jsx)(k.CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(120, 15%, 88%)"}),(0,s.jsx)(T.XAxis,{dataKey:"month",tick:{fontSize:10},stroke:"hsl(150, 10%, 45%)"}),(0,s.jsx)(P.YAxis,{tick:{fontSize:10},stroke:"hsl(150, 10%, 45%)"}),(0,s.jsx)(A.Tooltip,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(120, 15%, 88%)",borderRadius:"8px"}}),(0,s.jsx)(S.Area,{type:"monotone",dataKey:"claims",stroke:"hsl(200, 70%, 50%)",fill:"url(#claimsGradient)",strokeWidth:2,name:"Claims Filed"}),(0,s.jsx)(S.Area,{type:"monotone",dataKey:"approved",stroke:"hsl(142, 60%, 45%)",fill:"url(#approvedGradient)",strokeWidth:2,name:"Approved"})]})})]}),(0,s.jsxs)("div",{className:"bg-card rounded-2xl shadow-card p-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground font-display mb-4",children:"Loss Types"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center",children:[(0,s.jsx)(O.ResponsiveContainer,{width:"100%",height:180,children:(0,s.jsxs)(_.PieChart,{children:[(0,s.jsx)(R.Pie,{data:L,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,paddingAngle:2,dataKey:"value",children:L.map((e,t)=>(0,s.jsx)(F.Cell,{fill:e.color},`cell-${t}`))}),(0,s.jsx)(A.Tooltip,{})]})}),(0,s.jsx)("div",{className:"flex flex-col gap-1 mt-2 md:mt-0 min-w-[120px]",children:L.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"font-medium text-foreground",children:e.name}),(0,s.jsxs)("span",{className:"text-muted-foreground ml-auto",children:[e.value,"%"]})]},e.name))})]})]})]}),(0,s.jsx)("div",{className:"bg-card rounded-2xl shadow-card p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,s.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(g.Input,{placeholder:"Search claims...",className:"pl-10",value:M,onChange:e=>G(e.target.value)})]}),(0,s.jsxs)(v.Select,{value:W,onValueChange:X,children:[(0,s.jsx)(v.SelectTrigger,{className:"w-[150px]",children:(0,s.jsx)(v.SelectValue,{placeholder:"Status"})}),(0,s.jsxs)(v.SelectContent,{children:[(0,s.jsx)(v.SelectItem,{value:"all",children:"All Status"}),(0,s.jsx)(v.SelectItem,{value:"pending",children:"Pending"}),(0,s.jsx)(v.SelectItem,{value:"waiting",children:"Under Review"}),(0,s.jsx)(v.SelectItem,{value:"approved",children:"Approved"}),(0,s.jsx)(v.SelectItem,{value:"rejected",children:"Rejected"})]})]}),(0,s.jsxs)(f.Button,{variant:"outline",className:"gap-2",children:[(0,s.jsx)(i.Filter,{className:"w-4 h-4"}),"Filter"]})]})}),(0,s.jsx)("div",{className:"bg-card rounded-2xl shadow-card overflow-hidden",children:U?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):0===Z.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,s.jsx)(m.FilePlus,{className:"w-12 h-12 mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"No claims history"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-secondary/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Claim ID"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Loss Type"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Crop"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Area"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Date"}),(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"View"})]})}),(0,s.jsx)("tbody",{children:Z.map((e,t)=>{let a=z[e.status]||z.pending,r=e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString():"N/A";return(0,s.jsxs)("tr",{className:`border-b border-border ${t%2==0?"bg-background":"bg-card"}`,children:[(0,s.jsx)("td",{className:"py-4 px-4 font-medium text-primary",children:e.claimNumber||e.id?.slice(0,8)}),(0,s.jsx)("td",{className:"py-4 px-4 capitalize",children:e.lossType}),(0,s.jsx)("td",{className:"py-4 px-4",children:e.cropType}),(0,s.jsxs)("td",{className:"py-4 px-4 text-muted-foreground",children:[e.area," ",e.areaUnit]}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsx)("span",{className:`status-badge ${a.class}`,children:a.label})}),(0,s.jsx)("td",{className:"py-4 px-4 text-muted-foreground",children:r}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsx)(f.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>{J(e),q(!0)},children:(0,s.jsx)(n.Eye,{className:"w-4 h-4"})})})]},e.id)})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-border",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",I.length," claims"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Button,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,s.jsx)(f.Button,{variant:"outline",size:"sm",className:"bg-primary text-primary-foreground",children:"1"}),(0,s.jsx)(f.Button,{variant:"outline",size:"sm",children:"Next"})]})]})]})}),(0,s.jsx)(B.ClaimDetailsSheet,{claim:H,open:Y,onOpenChange:q,showActions:!1})]})]})}e.s(["default",()=>I])},198725,(e,s,t)=>{let a="/farmer/Claims";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(611651)]),s.hot&&s.hot.dispose(function(){window.__NEXT_P.push([a])})},648761,e=>{e.v(s=>Promise.all(["static/chunks/8e259bf0d2304537.js"].map(s=>e.l(s))).then(()=>s(493594)))},828805,e=>{e.v(s=>Promise.all(["static/chunks/820c94ec438563d7.js"].map(s=>e.l(s))).then(()=>s(879466)))}]);