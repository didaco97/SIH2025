module.exports=[106131,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-progress");a.n(b),c()}catch(a){c(a)}},!0),482626,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(106131),g=a.i(799856),h=b([f,g]);[f,g]=h.then?(await h)():h;let i=e.forwardRef(({className:a,value:b,...c},e)=>(0,d.jsx)(f.Root,{ref:e,className:(0,g.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,d.jsx)(f.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));i.displayName=f.Root.displayName,a.s(["Progress",()=>i]),c()}catch(a){c(a)}},!1),622928,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-checkbox");a.n(b),c()}catch(a){c(a)}},!0),459502,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(622928),g=a.i(597435),h=a.i(799856),i=b([f,h]);[f,h]=i.then?(await i)():i;let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Root,{ref:c,className:(0,h.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(f.Indicator,{className:(0,h.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(g.Check,{className:"h-4 w-4"})})}));j.displayName=f.Root.displayName,a.s(["Checkbox",()=>j]),c()}catch(a){c(a)}},!1),2026,a=>{"use strict";let b=(0,a.i(564375).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],2026)},637610,a=>{"use strict";let b=(0,a.i(564375).default)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);a.s(["FileDown",()=>b],637610)},940741,(a,b,c)=>{b.exports=a.x("jspdf",()=>require("jspdf"))},859171,(a,b,c)=>{b.exports=a.x("html2canvas",()=>require("html2canvas"))},177673,(a,b,c)=>{b.exports=a.x("file-saver",()=>require("file-saver"))},258756,a=>a.a(async(b,c)=>{try{let b=await a.y("ethers");a.n(b),c()}catch(a){c(a)}},!0),871513,a=>a.a(async(b,c)=>{try{var d=a.i(258756),e=b([d]);function f(){return!1}async function g(a,b){return{success:!1,error:"MetaMask not installed"}}async function h(){return null}[d]=e.then?(await e)():e,a.s(["getCurrentAddress",()=>h,"isMetaMaskInstalled",()=>f,"storeHashOnChain",()=>g]),c()}catch(a){c(a)}},!1),396761,a=>a.a(async(b,c)=>{try{var d=a.i(940741),e=a.i(859171),f=a.i(177673),g=a.i(376430),h=a.i(602571),i=a.i(39196),j=a.i(871513),k=b([g,h,i,j]);async function l(a,b,c){let{claim:k,farm:l,prediction:m,coordinates:n,verifiedAt:o,verifiedBy:p}=a,q=new d.default("p","mm","a4"),r=q.internal.pageSize.getWidth(),s=q.internal.pageSize.getHeight(),t=15,u=[16,185,129],v=[30,41,59],w=[100,116,139],x=[34,197,94],y=(a,b)=>(q.setFillColor(...u),q.rect(15,b,r-30,8,"F"),q.setTextColor(255,255,255),q.setFontSize(11),q.setFont("helvetica","bold"),q.text(a,18,b+5.5),b+12),z=(a,b,c,d=!1)=>(q.setFontSize(9),q.setFont("helvetica","normal"),q.setTextColor(...w),q.text(a,18,c),q.setTextColor(...d?u:v),q.setFont("helvetica","bold"),q.text(b,75,c),c+5);q.setFillColor(...u),q.rect(0,0,r,25,"F"),q.setTextColor(255,255,255),q.setFontSize(18),q.setFont("helvetica","bold"),q.text("PMFBY YIELD PREDICTION REPORT",15,12),q.setFontSize(10),q.setFont("helvetica","normal"),q.text(`Generated: ${new Date().toLocaleString()}`,15,20),q.text(`Report ID: ${k?.id||l?.id||"N/A"}`,r-15,20,{align:"right"});let A=t=35;q.setFillColor(236,253,245),q.roundedRect(15,A,r-30,12,2,2,"F"),q.setDrawColor(...x),q.roundedRect(15,A,r-30,12,2,2,"S"),q.setFillColor(...x),q.circle(23,A+6,3,"F"),q.setTextColor(255,255,255),q.setFontSize(8),q.text("âœ“",21.5,A+7.5),q.setTextColor(...x),q.setFontSize(11),q.setFont("helvetica","bold"),q.text("âœ“ VERIFIED BY OFFICER",30,A+7),q.setTextColor(...w),q.setFontSize(8),q.setFont("helvetica","normal"),q.text(`Verified on: ${new Date(o).toLocaleString()}`,r-15,A+7,{align:"right"}),t=A+18,t=y("CLAIM INFORMATION",t),t=z("Farmer Name:",k?.farmerName||l?.farmerName||"N/A",t),t=z("Farmer ID:",k?.farmerId||"N/A",t),t=z("Village:",k?.village||l?.village||"N/A",t),t=z("District:",k?.district||l?.district||"N/A",t),t=z("Crop Type:",k?.cropType||l?.cropType||"N/A",t,!0),t=z("Survey No:",k?.surveyNumber||"N/A",t),t=z("Loss Type:",k?.lossType||"N/A",t),t=z("Claim Status:",k?.status?.toUpperCase()||"PENDING",t)+5,t=y("FARM DETAILS",t);let B=l?.features[0]?.properties?.area_m2||0,C=(247105e-9*B).toFixed(2);if((1e-4*B).toFixed(2),t=z("Farm ID:",l?.id||"N/A",t),t=z("Area:",`${B.toFixed(0)} sq meters (${C} acres)`,t,!0),t=z("Coordinates:",`${n.lat.toFixed(6)}\xb0, ${n.lng.toFixed(6)}\xb0`,t)+5,t=y("AI PREDICTION RESULTS",t),m&&(q.setFillColor(240,253,244),q.roundedRect(15,t,(r-30)/2-3,20,2,2,"F"),q.setTextColor(...u),q.setFontSize(16),q.setFont("helvetica","bold"),q.text(`${m.predictedYield.toLocaleString()} kg/ha`,20,t+12),q.setFontSize(8),q.setTextColor(...w),q.text("Predicted Yield",20,t+17),q.setFillColor(254,252,232),q.roundedRect(15+(r-30)/2+3,t,(r-30)/2-3,20,2,2,"F"),q.setTextColor(202,138,4),q.setFontSize(16),q.setFont("helvetica","bold"),q.text(`${m.threshold.toLocaleString()} kg/ha`,15+(r-30)/2+8,t+12),q.setFontSize(8),q.setTextColor(...w),q.text("Threshold Yield",15+(r-30)/2+8,t+17),t+=25,t=z("Uncertainty:",`\xb1${m.uncertainty.toLocaleString()} kg/ha`,t),t=z("Confidence Range:",`${m.confidenceLow.toLocaleString()} - ${m.confidenceHigh.toLocaleString()} kg/ha`,t),t=z("Loss Percentage:",`${m.lossPercentage.toFixed(1)}%`,t,m.lossPercentage>=33)),t+=5,t=y("PMFBY CLAIM ASSESSMENT",t),m){let a=m.claimTriggered?[239,68,68]:x,b=m.claimTriggered?[254,242,242]:[240,253,244];q.setFillColor(b[0],b[1],b[2]),q.roundedRect(15,t,r-30,15,2,2,"F"),q.setDrawColor(...a),q.roundedRect(15,t,r-30,15,2,2,"S"),q.setTextColor(...a),q.setFontSize(14),q.setFont("helvetica","bold"),q.text(m.claimTriggered?"âš  CLAIM TRIGGERED":"âœ“ NO CLAIM REQUIRED",20,t+10),q.setTextColor(...w),q.setFontSize(9),q.text(`Probability: ${m.claimProbability.toFixed(1)}%  |  Confidence: ${m.decisionConfidence.toFixed(1)}%`,r-15-5,t+10,{align:"right"}),t+=20}if(t=y("CROP HEALTH & SATELLITE INDICES",t),m&&(t=z("Health Status:",m.healthStatus,t,!0),t=z("Health Score:",`${m.healthScore}/100`,t),t=z("NDVI (Vegetation):",m.ndvi.toFixed(3),t),t=z("NDWI (Water):",m.ndwi.toFixed(3),t),t=z("EVI (Enhanced):",m.evi.toFixed(3),t)),t+=5,t=y("WEATHER CONDITIONS",t),m&&(t=z("Total Rainfall:",`${m.weather.rainTotal} mm`,t),t=z("Growing Degree Days:",`${m.weather.gdd}`,t),t=z("Heat Stress:",`${m.weather.heatStress}`,t),t=z("Vapor Pressure Deficit:",`${m.weather.vpd.toFixed(2)} kPa`,t)),t+=5,m&&t<s-50&&(t=y("STRESS ANALYSIS",t),t=z("Vegetative Stress:",`${(100*m.stress.vegetative).toFixed(1)}%`,t),t=z("Flowering Stress:",`${(100*m.stress.flowering).toFixed(1)}%`,t),t=z("Grain Fill Stress:",`${(100*m.stress.grainFill).toFixed(1)}%`,t),t=z("Combined Stress:",`${(100*m.stress.combined).toFixed(1)}%`,t),t=z("Yield Potential:",`${(100*m.stress.yieldPotential).toFixed(1)}%`,t,!0)),b){let a=document.getElementById(b);if(a)try{q.addPage(),t=15,t=y("FARM BOUNDARY VISUALIZATION",t);let b=await (0,e.default)(a,{useCORS:!0,scale:2,logging:!1,allowTaint:!0}),c=b.toDataURL("image/png"),d=r-30,f=b.height*d/b.width;if(q.addImage(c,"PNG",15,t,d,Math.min(f,120)),t+=Math.min(f,120)+10,l?.features[0]?.geometry?.coordinates){t=y("POLYGON COORDINATES",t),q.setFontSize(7),q.setTextColor(...w);let a=l.features[0].geometry.coordinates[0];a.slice(0,8).forEach((a,b)=>{q.text(`Point ${b+1}: [${a[1].toFixed(6)}, ${a[0].toFixed(6)}]`,18,t),t+=4}),a.length>8&&q.text(`... and ${a.length-8} more points`,18,t)}}catch(a){console.error("Error capturing map:",a)}}let D=q.internal.pages.length-1;for(let a=1;a<=D;a++)q.setPage(a),q.setDrawColor(...u),q.setLineWidth(.5),q.line(15,s-15,r-15,s-15),q.setFontSize(8),q.setTextColor(...w),q.text("PMFBY Report - AI Yield Prediction System | YES-TECH Agri Portal",15,s-10),q.text(`Page ${a} of ${D}`,r-15,s-10,{align:"right"});let E=new Date().toISOString().split("T")[0],F=String(k?.id||l?.id||"Report").substring(0,10).replace(/[^a-zA-Z0-9]/g,""),G=`PMFBY_Report_${F}_${E}.pdf`,H=q.output("blob"),I=new Blob([H],{type:"application/pdf"});if(k?.id)try{console.log("Uploading report to Firestore...");let a=await (0,g.uploadReportPDF)(I,k.id,G),b={claimId:k.id,farmId:l?.id,farmerId:k.farmerId||l?.farmerName,farmerName:k.farmerName||l?.farmerName,reportType:"yield_prediction",predictedYield:m?.predictedYield,threshold:m?.threshold,claimTriggered:m?.claimTriggered,lossPercentage:m?.lossPercentage,healthStatus:m?.healthStatus,verifiedBy:p,verifiedAt:i.Timestamp.fromDate(new Date(o)),pdfUrl:a,fileName:G},{reportId:c,blockchainHash:d}=await (0,h.saveReport)(b);if(console.log("Report saved to Firestore successfully. Report ID:",c),d&&k.id)if(console.log("ðŸ” Blockchain Hash Generated:",d),(0,j.isMetaMaskInstalled)())if(await (0,j.getCurrentAddress)())if(confirm(`âœ… Report Generated!

ðŸ” Hash: ${d.substring(0,16)}...

Would you like to store this hash on the blockchain?
(This will create a permanent, verifiable record on Polygon)`)){let a=await (0,j.storeHashOnChain)(d,k.id);a.success&&a.txHash&&a.blockExplorerUrl?(await (0,h.updateClaimBlockchainInfo)(k.id,a.txHash,a.blockExplorerUrl),alert(`âœ… BLOCKCHAIN VERIFIED!

Transaction Hash:
${a.txHash}

View on Block Explorer:
${a.blockExplorerUrl}

This transaction is permanently recorded on the blockchain.`),console.log("ðŸ”— Blockchain TX:",a.txHash),console.log("ðŸ”— Explorer:",a.blockExplorerUrl)):alert(`âš ï¸ Blockchain storage failed:
${a.error}

The hash is still saved locally in Firestore.`)}else alert(`âœ… Report Saved!

ðŸ” Local Hash: ${d.substring(0,32)}...

(Blockchain verification skipped)`);else alert(`âœ… Report Saved!

ðŸ” Local Hash: ${d.substring(0,32)}...

ðŸ’¡ Connect MetaMask to enable blockchain verification.`);else alert(`âœ… Report Saved!

ðŸ” Local Hash: ${d.substring(0,32)}...

ðŸ“¥ Install MetaMask to enable blockchain verification.`)}catch(a){console.error("Error uploading report to Firestore:",a)}(0,f.saveAs)(I,G)}[g,h,i,j]=k.then?(await k)():k,a.s(["generatePDFReport",()=>l]),c()}catch(a){c(a)}},!1),795738,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(25670),g=a.i(499353),h=a.i(396465),i=a.i(799042),j=a.i(811705),k=a.i(899054),l=a.i(482626),m=a.i(318674),n=a.i(567326),o=a.i(459502),p=a.i(397625),q=a.i(326028),r=a.i(943431),s=a.i(134084),t=a.i(798811),u=a.i(248586),v=a.i(311988),w=a.i(252717),x=a.i(110199),y=a.i(138609),z=a.i(199987),A=a.i(398555),B=a.i(2026),C=a.i(637610),D=a.i(380489),E=a.i(901257),F=a.i(602571),G=a.i(396761),H=b([g,h,j,k,l,m,n,o,p,F,G]);[g,h,j,k,l,m,n,o,p,F,G]=H.then?(await H)():H;let J={Rice:1640,Cotton:350,Soybean:950,Wheat:1800,Sugarcane:8e4,Maize:1500,Groundnut:1200,Jowar:800},K={width:"100%",height:"100%",borderRadius:"0.5rem"};function I(){let a=(0,f.useSearchParams)(),b=a?.get("farmId"),c=a?.get("claimId"),[H,I]=(0,e.useState)(null),[L,M]=(0,e.useState)(null),[N,O]=(0,e.useState)(!0),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(null),[T,U]=(0,e.useState)(null),[V,W]=(0,e.useState)(null),[X,Y]=(0,e.useState)(!1),[Z,$]=(0,e.useState)(!1),{isLoaded:_}=(0,i.useJsApiLoader)({id:"google-map-script",googleMapsApiKey:"AIzaSyDxjUs4SYfau1jdaywmkgI17ctCs5adFsI"});(0,e.useEffect)(()=>{(async()=>{O(!0);try{if(b){let a=await (0,F.getSegmentedFarmById)(b);I(a)}if(c){let a=await (0,F.getClaim)(c);M(a)}}catch(a){console.error("Error fetching data:",a)}O(!1)})()},[b,c]);let aa=(()=>{if(!H?.features?.[0]?.geometry?.coordinates)return{lat:20.5937,lng:78.9629};let a=H.features[0].geometry.coordinates[0],b=a.map(a=>a[1]),c=a.map(a=>a[0]),d=b.reduce((a,b)=>a+b,0)/b.length,e=c.reduce((a,b)=>a+b,0)/c.length;return{lat:d,lng:e}})(),ab=async()=>{if(!H)return;Q(!0),U(null),S(null);let a=H.cropType||L?.cropType||"Rice",b=J[a]||1640,c=1e-4*(H.features[0].properties.area_m2||0);try{let d=await fetch("http://localhost:8002/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:aa.lat,lon:aa.lng,district:H.district||L?.district||"Ahmednagar",crop:a,season:"Kharif",area:c,threshold:b})});if(!d.ok){let a=await d.json().catch(()=>({}));throw Error(a.detail||`API error: ${d.status}`)}let e=await d.json();S({ndvi:e.satellite.ndvi,ndwi:e.satellite.ndwi,evi:e.satellite.evi,predictedYield:e.predicted_yield,uncertainty:e.uncertainty,confidenceLow:e.confidence_low,confidenceHigh:e.confidence_high,threshold:e.pmfby.threshold,shortfall:e.pmfby.shortfall,lossPercentage:e.pmfby.loss_percentage,claimTriggered:e.pmfby.claim_triggered,claimProbability:e.pmfby.claim_probability,decisionConfidence:e.pmfby.decision_confidence,healthStatus:e.satellite.health_status,healthScore:e.satellite.health_score,weather:{rainTotal:e.weather.rain_total,gdd:e.weather.gdd,heatStress:e.weather.heat_stress,vpd:e.weather.vpd},stress:{vegetative:e.stress.vegetative,flowering:e.stress.flowering,grainFill:e.stress.grain_fill,combined:e.stress.combined,yieldPotential:e.stress.yield_potential}})}catch(a){console.error("Prediction API error:",a),a.message.includes("Failed to fetch")||a.message.includes("NetworkError")?U("PMFBY API server is not running. Please start it with: python api_server.py (in PMFBY folder)"):U(a.message||"Unknown error occurred")}Q(!1)};if(N)return(0,d.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,d.jsx)(g.OfficerSidebar,{}),(0,d.jsx)("main",{className:"flex-1 p-6 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(v.Loader2,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Loading farm and claim data..."})]})})]});if(!H)return(0,d.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,d.jsx)(g.OfficerSidebar,{}),(0,d.jsx)("main",{className:"flex-1 p-6 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(u.XCircle,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-lg font-medium",children:"Farm not found"}),(0,d.jsx)("p",{className:"text-muted-foreground mb-4",children:"The requested farm segment could not be loaded."}),(0,d.jsx)(E.default,{href:"/officer/analysis",children:(0,d.jsxs)(h.Button,{variant:"outline",children:[(0,d.jsx)(B.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Claim Analysis"]})})]})})]});let ac=247105e-9*(H.features[0].properties.area_m2||0),ad=H.features[0].properties.area_m2||0,ae=H.features[0].geometry.coordinates[0].map(a=>({lat:a[1],lng:a[0]}));return(0,d.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,d.jsx)(g.OfficerSidebar,{}),(0,d.jsxs)("main",{className:"flex-1 p-6 overflow-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(E.default,{href:"/officer/analysis",children:(0,d.jsx)(h.Button,{variant:"ghost",size:"icon",children:(0,d.jsx)(B.ArrowLeft,{className:"w-5 h-5"})})}),(0,d.jsx)("div",{className:"p-2.5 rounded-xl bg-primary/10",children:(0,d.jsx)(q.BrainCircuit,{className:"w-7 h-7 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-foreground font-display",children:"AI Yield Prediction"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"PMFBY-based crop yield prediction with satellite data"})]})]}),(0,d.jsx)(h.Button,{size:"lg",className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-bold shadow-lg",disabled:P,onClick:ab,children:P?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Predicting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.BrainCircuit,{className:"w-4 h-4 mr-2"}),"Run AI Prediction"]})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsxs)(j.Card,{className:"shadow-card border-none h-fit",children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(z.FileText,{className:"w-5 h-5 text-primary"}),"Claim Information"]})}),(0,d.jsx)(j.CardContent,{className:"space-y-4",children:L?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,d.jsx)(y.User,{className:"w-8 h-8 text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:L.farmerName}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Farmer ID: ",L.farmerId]})]})]}),(0,d.jsx)(m.Separator,{}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Village"}),(0,d.jsx)("p",{className:"font-medium",children:L.village})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"District"}),(0,d.jsx)("p",{className:"font-medium",children:L.district})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Crop Type"}),(0,d.jsx)("p",{className:"font-medium",children:L.cropType})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Survey No"}),(0,d.jsx)("p",{className:"font-medium",children:L.surveyNumber||"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Loss Type"}),(0,d.jsx)("p",{className:"font-medium",children:L.lossType})]})]}),(0,d.jsx)(m.Separator,{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Claim Status"}),(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)(k.Badge,{variant:"approved"===L.status?"default":"rejected"===L.status?"destructive":"secondary",children:L.status})})]}),L.description&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase",children:"Description"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:L.description})]}),(L.document712Url||L.documents&&L.documents.length>0)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.Separator,{}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("label",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Uploaded Documents"}),L.document712Url&&(0,d.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"7/12 Document"}),(0,d.jsx)("a",{href:L.document712Url,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-background rounded border border-border hover:border-primary transition-colors",children:[(0,d.jsx)(z.FileText,{className:"w-5 h-5 text-primary"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"View 7/12 Extract"})]})})]}),L.documents&&L.documents.length>0&&(0,d.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mb-2",children:["Geotagged Photos (",L.documents.length,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:L.documents.map((a,b)=>(0,d.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,d.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden border border-border hover:border-primary transition-colors",children:(0,d.jsx)("img",{src:a,alt:`Proof ${b+1}`,className:"w-full h-full object-cover"})})},b))})]})]})]})]}):(0,d.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,d.jsx)(z.FileText,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,d.jsx)("p",{children:"No claim linked to this farm"})]})})]}),(0,d.jsxs)(j.Card,{className:"shadow-card border-none h-fit",children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(r.MapPin,{className:"w-5 h-5 text-primary"}),"Segmented Farm Visual"]})}),(0,d.jsxs)(j.CardContent,{className:"space-y-4",children:[(0,d.jsx)("div",{id:"farm-map-container",className:"aspect-square w-full rounded-lg overflow-hidden border border-border/50 bg-muted/10 relative",children:_?(0,d.jsxs)(i.GoogleMap,{mapContainerStyle:K,center:aa,zoom:17,options:{mapTypeId:"hybrid",fullscreenControl:!0,mapTypeControl:!1,streetViewControl:!1},children:[(0,d.jsx)(i.Polygon,{paths:ae,options:{fillColor:H.color,fillOpacity:.4,strokeColor:H.color,strokeOpacity:1,strokeWeight:2}}),(0,d.jsx)(i.Marker,{position:aa})]}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,d.jsx)(v.Loader2,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}),(0,d.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-background rounded-md border border-border",children:(0,d.jsx)(r.MapPin,{className:"w-4 h-4 text-primary"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground uppercase font-semibold",children:"Coordinates"}),(0,d.jsxs)("div",{className:"flex gap-4 mt-1 font-mono text-sm",children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground mr-1",children:"Lat:"}),aa.lat.toFixed(6),"Â°"]}),(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground mr-1",children:"Lng:"}),aa.lng.toFixed(6),"Â°"]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[(0,d.jsx)(A.Ruler,{className:"w-5 h-5 mx-auto mb-1 text-primary"}),(0,d.jsx)("p",{className:"text-xl font-bold",children:ad.toFixed(0)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"sq meters"})]}),(0,d.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg text-center",children:[(0,d.jsx)(s.Leaf,{className:"w-5 h-5 mx-auto mb-1 text-green-500"}),(0,d.jsx)("p",{className:"text-xl font-bold",children:ac.toFixed(2)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"acres"})]})]}),(0,d.jsxs)("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Farm ID"}),(0,d.jsx)("span",{className:"text-sm font-mono truncate max-w-[150px]",children:H.id})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Farmer"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:H.farmerName})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Crop"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:H.cropType||"Not specified"})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Village"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:H.village})]})]})]})]}),(0,d.jsxs)(j.Card,{className:"shadow-card border-none",children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(q.BrainCircuit,{className:"w-5 h-5 text-primary"}),"Prediction Results"]})}),(0,d.jsxs)(j.CardContent,{children:[!R&&!T&&!P&&(0,d.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,d.jsx)(q.BrainCircuit,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),(0,d.jsx)("p",{className:"font-medium",children:'Click "Run AI Prediction" to analyze'}),(0,d.jsx)("p",{className:"text-sm",children:"AI will analyze satellite data and predict crop yield"})]}),P&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(v.Loader2,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),(0,d.jsx)("p",{className:"font-medium",children:"Analyzing satellite data..."}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Fetching NDVI, NDWI, and weather data"})]}),T&&(0,d.jsxs)("div",{className:"text-center py-8 p-4 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[(0,d.jsx)(u.XCircle,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),(0,d.jsx)("p",{className:"font-medium text-red-700 dark:text-red-400",children:"Prediction Failed"}),(0,d.jsx)("p",{className:"text-sm text-red-600 dark:text-red-300 mt-2",children:T})]}),R&&(0,d.jsx)(n.ScrollArea,{className:"h-[500px] pr-4",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg",children:[(0,d.jsx)(t.Wheat,{className:"w-8 h-8 mx-auto mb-2 text-amber-500"}),(0,d.jsx)("p",{className:"text-3xl font-bold",children:R.predictedYield.toLocaleString()}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"kg/ha predicted yield"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Â± ",R.uncertainty.toLocaleString()," uncertainty"]})]}),(0,d.jsxs)("div",{className:`p-4 rounded-lg border ${R.claimTriggered?"border-red-500/50 bg-red-50 dark:bg-red-950/20":"border-green-500/50 bg-green-50 dark:bg-green-950/20"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"font-medium",children:"PMFBY Assessment"}),R.claimTriggered?(0,d.jsx)(k.Badge,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:"CLAIM TRIGGERED"}):(0,d.jsx)(k.Badge,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"NO CLAIM"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Threshold:"}),(0,d.jsxs)("span",{className:"ml-1 font-medium",children:[R.threshold," kg/ha"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Loss:"}),(0,d.jsxs)("span",{className:`ml-1 font-medium ${R.lossPercentage>=33?"text-red-500":"text-green-500"}`,children:[R.lossPercentage.toFixed(1),"%"]})]})]})]}),(0,d.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("span",{className:"font-medium flex items-center gap-2",children:[(0,d.jsx)(x.Sun,{className:"w-4 h-4 text-yellow-500"}),"Crop Health"]}),(0,d.jsx)("span",{className:`font-bold ${(a=>{switch(a){case"Excellent":return"text-green-500";case"Good":return"text-emerald-500";case"Moderate":return"text-yellow-500";case"Poor":return"text-orange-500";default:return"text-red-500"}})(R.healthStatus)}`,children:R.healthStatus})]}),(0,d.jsx)(l.Progress,{value:R.healthScore,className:"h-2"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[R.healthScore,"/100"]})]}),(0,d.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("p",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,d.jsx)(s.Leaf,{className:"w-4 h-4 text-green-500"}),"Satellite Indices"]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"NDVI"}),(0,d.jsx)("span",{className:"font-medium text-green-500",children:R.ndvi.toFixed(3)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"NDWI"}),(0,d.jsx)("span",{className:"font-medium text-blue-500",children:R.ndwi.toFixed(3)})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"EVI"}),(0,d.jsx)("span",{className:"font-medium text-emerald-500",children:R.evi.toFixed(3)})]})]})]}),(0,d.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,d.jsxs)("p",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,d.jsx)(w.CloudRain,{className:"w-4 h-4 text-sky-500"}),"Weather Data"]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Rainfall:"}),(0,d.jsxs)("span",{className:"ml-1 font-medium",children:[R.weather.rainTotal," mm"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"GDD:"}),(0,d.jsx)("span",{className:"ml-1 font-medium",children:R.weather.gdd})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Heat Stress:"}),(0,d.jsx)("span",{className:"ml-1 font-medium",children:R.weather.heatStress})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"VPD:"}),(0,d.jsxs)("span",{className:"ml-1 font-medium",children:[R.weather.vpd.toFixed(2)," kPa"]})]})]})]}),(0,d.jsx)(m.Separator,{className:"my-4"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg border border-primary/20",children:[(0,d.jsx)(o.Checkbox,{id:"verified",checked:X,onCheckedChange:a=>Y(a),className:"h-5 w-5"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)(p.Label,{htmlFor:"verified",className:"font-medium cursor-pointer flex items-center gap-2",children:[(0,d.jsx)(D.ShieldCheck,{className:"w-4 h-4 text-primary"}),"Verified by Officer"]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"I confirm the prediction data has been reviewed and is accurate"})]})]}),(0,d.jsx)(h.Button,{size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:!X||Z,onClick:async()=>{$(!0);try{await (0,G.generatePDFReport)({claim:L,farm:H,prediction:R,coordinates:aa,verifiedAt:new Date().toISOString(),verifiedBy:"Agricultural Officer"},"farm-map-container")}catch(a){console.error("Error generating report:",a)}$(!1)},children:Z?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Report..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.FileDown,{className:"w-4 h-4 mr-2"}),"Generate Report"]})}),!X&&(0,d.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"âš ï¸ Please verify the prediction before generating report"})]})]})})]})]})]})]})]})}a.s(["default",()=>I]),c()}catch(a){c(a)}},!1),572235,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(706555),i=a.i(795738),j=a.i(509193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/officer/OfficerYieldPredict",pathname:"/officer/OfficerYieldPredict",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/officer/OfficerYieldPredict",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__1f16181e._.js.map