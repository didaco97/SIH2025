module.exports=[342955,a=>{"use strict";var b=a.i(187924),c=a.i(112826),d=a.i(523312),e=a.i(546842),f=a.i(587532),g=a.i(581464),h=a.i(177156),i=a.i(816201),j=a.i(862722),k=a.i(641710),l=a.i(439973),m=a.i(596221),n=a.i(669520),o=a.i(724669),p=a.i(73570),q=a.i(699570),r=a.i(238246),s=a.i(866718),t=a.i(580701),u=a.i(572131),v=a.i(977929),w=a.i(711642),x=a.i(823292),y=a.i(39622),z=a.i(985811),A=a.i(758042),B=a.i(994222),C=a.i(54419),D=a.i(659854),E=a.i(48662),F=a.i(264321),G=a.i(427165),H=a.i(467149),I=a.i(8849);let J=[{month:"Jan",claims:45,approved:30},{month:"Feb",claims:52,approved:35},{month:"Mar",claims:38,approved:28},{month:"Apr",claims:65,approved:45},{month:"May",claims:95,approved:60},{month:"Jun",claims:150,approved:90},{month:"Jul",claims:210,approved:140},{month:"Aug",claims:180,approved:120},{month:"Sep",claims:120,approved:95},{month:"Oct",claims:85,approved:65},{month:"Nov",claims:55,approved:45},{month:"Dec",claims:40,approved:35}],K=[{name:"Flood",value:35,color:"hsl(200, 70%, 50%)"},{name:"Drought",value:25,color:"hsl(45, 90%, 55%)"},{name:"Pest",value:20,color:"hsl(142, 60%, 45%)"},{name:"Fire",value:12,color:"hsl(10, 80%, 55%)"},{name:"Other",value:8,color:"hsl(150, 30%, 60%)"}],L={pending:{label:"Pending",class:"status-pending",icon:k.Clock},waiting:{label:"Under Review",class:"status-waiting",icon:h.Eye},approved:{label:"Approved",class:"status-approved",icon:i.CheckCircle},rejected:{label:"Rejected",class:"status-rejected",icon:j.XCircle}};function M(){let{user:a,isConfigured:j}=(0,w.useAuth)(),[M,N]=(0,u.useState)([]),[O,P]=(0,u.useState)(!0),[Q,R]=(0,u.useState)(""),[S,T]=(0,u.useState)("all"),[U,V]=(0,u.useState)(null),[W,X]=(0,u.useState)(null),[Y,Z]=(0,u.useState)(!1),$=async()=>{if(!j||!a?.uid)return void P(!1);try{P(!0);let a=await (0,v.getAllClaims)();N(a)}catch(a){console.error("Error fetching claims:",a),x.toast.error("Failed to load claims")}finally{P(!1)}};(0,u.useEffect)(()=>{$()},[j,a]);let _=M.filter(a=>{let b=a.claimNumber?.toLowerCase().includes(Q.toLowerCase())||a.farmerName?.toLowerCase().includes(Q.toLowerCase())||a.farmerId?.toLowerCase().includes(Q.toLowerCase()),c="all"===S||a.status===S;return b&&c}),aa={total:M.length,pending:M.filter(a=>"pending"===a.status).length,approved:M.filter(a=>"approved"===a.status).length,rejected:M.filter(a=>"rejected"===a.status).length};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("div",{className:"fixed left-0 top-0 z-40",children:(0,b.jsx)(c.FarmerSidebar,{})}),(0,b.jsxs)("main",{className:"ml-64 p-6 overflow-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground font-display",children:"My Claims"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track and manage your insurance claims"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.Button,{variant:"outline",size:"icon",onClick:$,disabled:O,children:(0,b.jsx)(n.RefreshCw,{className:`w-4 h-4 ${O?"animate-spin":""}`})}),(0,b.jsxs)(r.default,{href:"/farmer/file-claim",children:[" ",(0,b.jsxs)(q.Button,{className:"gap-2 bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",children:[(0,b.jsx)(l.FilePlus,{className:"w-4 h-4"}),"New Claim"]})]}),(0,b.jsxs)(q.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,b.jsx)(d.Bell,{className:"w-5 h-5 text-muted-foreground"}),aa.pending>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-danger-zone rounded-full text-xs text-white flex items-center justify-center",children:aa.pending})]}),(0,b.jsx)(q.Button,{variant:"ghost",size:"icon",className:"bg-secondary",children:(0,b.jsx)(e.User,{className:"w-5 h-5 text-muted-foreground"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(l.FilePlus,{className:"w-5 h-5 text-primary"}),(0,b.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,b.jsx)(o.TrendingUp,{className:"w-3 h-3 mr-1"})," +1"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"My Claims"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:aa.total})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(i.CheckCircle,{className:"w-5 h-5 text-vegetation"}),(0,b.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,b.jsx)(o.TrendingUp,{className:"w-3 h-3 mr-1"})," 100%"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Approved"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:aa.approved})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(k.Clock,{className:"w-5 h-5 text-golden"}),(0,b.jsxs)("span",{className:"flex items-center text-xs text-vegetation",children:[(0,b.jsx)(o.TrendingUp,{className:"w-3 h-3 mr-1"})," -2 days"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Processing Time"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:"5 Days"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(p.AlertTriangle,{className:"w-5 h-5 text-danger-zone"})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Action"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:aa.pending})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-card rounded-2xl shadow-card p-5",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground font-display mb-4",children:"Claim History"}),(0,b.jsx)(E.ResponsiveContainer,{width:"100%",height:200,children:(0,b.jsxs)(y.AreaChart,{data:J,children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"claimsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"hsl(200, 70%, 50%)",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"hsl(200, 70%, 50%)",stopOpacity:0})]}),(0,b.jsxs)("linearGradient",{id:"approvedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"hsl(142, 60%, 45%)",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"hsl(142, 60%, 45%)",stopOpacity:0})]})]}),(0,b.jsx)(C.CartesianGrid,{strokeDasharray:"3 3",stroke:"hsl(120, 15%, 88%)"}),(0,b.jsx)(A.XAxis,{dataKey:"month",tick:{fontSize:10},stroke:"hsl(150, 10%, 45%)"}),(0,b.jsx)(B.YAxis,{tick:{fontSize:10},stroke:"hsl(150, 10%, 45%)"}),(0,b.jsx)(D.Tooltip,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(120, 15%, 88%)",borderRadius:"8px"}}),(0,b.jsx)(z.Area,{type:"monotone",dataKey:"claims",stroke:"hsl(200, 70%, 50%)",fill:"url(#claimsGradient)",strokeWidth:2,name:"Claims Filed"}),(0,b.jsx)(z.Area,{type:"monotone",dataKey:"approved",stroke:"hsl(142, 60%, 45%)",fill:"url(#approvedGradient)",strokeWidth:2,name:"Approved"})]})})]}),(0,b.jsxs)("div",{className:"bg-card rounded-2xl shadow-card p-5",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground font-display mb-4",children:"Loss Types"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center",children:[(0,b.jsx)(E.ResponsiveContainer,{width:"100%",height:180,children:(0,b.jsxs)(F.PieChart,{children:[(0,b.jsx)(G.Pie,{data:K,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,paddingAngle:2,dataKey:"value",children:K.map((a,c)=>(0,b.jsx)(H.Cell,{fill:a.color},`cell-${c}`))}),(0,b.jsx)(D.Tooltip,{})]})}),(0,b.jsx)("div",{className:"flex flex-col gap-1 mt-2 md:mt-0 min-w-[120px]",children:K.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,b.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:a.color}}),(0,b.jsx)("span",{className:"font-medium text-foreground",children:a.name}),(0,b.jsxs)("span",{className:"text-muted-foreground ml-auto",children:[a.value,"%"]})]},a.name))})]})]})]}),(0,b.jsx)("div",{className:"bg-card rounded-2xl shadow-card p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(s.Input,{placeholder:"Search claims...",className:"pl-10",value:Q,onChange:a=>R(a.target.value)})]}),(0,b.jsxs)(t.Select,{value:S,onValueChange:T,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-[150px]",children:(0,b.jsx)(t.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(t.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(t.SelectItem,{value:"waiting",children:"Under Review"}),(0,b.jsx)(t.SelectItem,{value:"approved",children:"Approved"}),(0,b.jsx)(t.SelectItem,{value:"rejected",children:"Rejected"})]})]}),(0,b.jsxs)(q.Button,{variant:"outline",className:"gap-2",children:[(0,b.jsx)(g.Filter,{className:"w-4 h-4"}),"Filter"]})]})}),(0,b.jsx)("div",{className:"bg-card rounded-2xl shadow-card overflow-hidden",children:O?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):0===_.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,b.jsx)(l.FilePlus,{className:"w-12 h-12 mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"No claims history"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-secondary/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Claim ID"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Loss Type"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Crop"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Area"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-foreground text-sm",children:"View"})]})}),(0,b.jsx)("tbody",{children:_.map((a,c)=>{let d=L[a.status]||L.pending,e=a.createdAt?.toDate?a.createdAt.toDate().toLocaleDateString():"N/A";return(0,b.jsxs)("tr",{className:`border-b border-border ${c%2==0?"bg-background":"bg-card"}`,children:[(0,b.jsx)("td",{className:"py-4 px-4 font-medium text-primary",children:a.claimNumber||a.id?.slice(0,8)}),(0,b.jsx)("td",{className:"py-4 px-4 capitalize",children:a.lossType}),(0,b.jsx)("td",{className:"py-4 px-4",children:a.cropType}),(0,b.jsxs)("td",{className:"py-4 px-4 text-muted-foreground",children:[a.area," ",a.areaUnit]}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`status-badge ${d.class}`,children:d.label})}),(0,b.jsx)("td",{className:"py-4 px-4 text-muted-foreground",children:e}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)(q.Button,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>{X(a),Z(!0)},children:(0,b.jsx)(h.Eye,{className:"w-4 h-4"})})})]},a.id)})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-border",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," of ",M.length," claims"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Button,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),(0,b.jsx)(q.Button,{variant:"outline",size:"sm",className:"bg-primary text-primary-foreground",children:"1"}),(0,b.jsx)(q.Button,{variant:"outline",size:"sm",children:"Next"})]})]})]})}),(0,b.jsx)(I.ClaimDetailsSheet,{claim:W,open:Y,onOpenChange:Z,showActions:!1})]})]})}a.s(["default",()=>M])}];

//# sourceMappingURL=src_pages_farmer_Claims_tsx_565b6703._.js.map