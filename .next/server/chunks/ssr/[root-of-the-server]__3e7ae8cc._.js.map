{"version":3,"sources":["../../../../src/components/officer/SatelliteMap.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { MapContainer, TileLayer, Marker, Popup, Polygon } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport { useEffect } from \"react\";\r\n\r\n// Fix for default marker icon in Leaflet\r\nconst icon = L.icon({\r\n    iconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\r\n    iconRetinaUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\r\n    shadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nL.Marker.prototype.options.icon = icon;\r\n\r\ninterface SatelliteMapProps {\r\n    showNDVI?: boolean;\r\n    showSoilMoisture?: boolean;\r\n    showWeatherEvents?: boolean;\r\n}\r\n\r\nexport default function SatelliteMap({\r\n    showNDVI,\r\n    showSoilMoisture,\r\n    showWeatherEvents\r\n}: SatelliteMapProps) {\r\n    // Sample farm location (Nashik, Maharashtra)\r\n    const farmCenter: [number, number] = [19.9975, 73.7898];\r\n\r\n    // Sample farm boundary polygon\r\n    const farmBoundary: [number, number][] = [\r\n        [19.9990, 73.7880],\r\n        [19.9990, 73.7920],\r\n        [19.9960, 73.7920],\r\n        [19.9960, 73.7880],\r\n    ];\r\n\r\n    return (\r\n        <MapContainer\r\n            center={farmCenter}\r\n            zoom={15}\r\n            style={{ height: \"100%\", width: \"100%\" }}\r\n            className=\"z-0\"\r\n        >\r\n            {/* Satellite View from Esri */}\r\n            <TileLayer\r\n                url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n                attribution='&copy; <a href=\"https://www.esri.com/\">Esri</a>'\r\n                maxZoom={19}\r\n            />\r\n\r\n            {/* Overlay labels for better readability */}\r\n            <TileLayer\r\n                url=\"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}\"\r\n                attribution='&copy; <a href=\"https://www.esri.com/\">Esri</a>'\r\n            />\r\n\r\n            {/* Farm Boundary */}\r\n            <Polygon\r\n                positions={farmBoundary}\r\n                pathOptions={{\r\n                    color: '#fbbf24',\r\n                    weight: 3,\r\n                    dashArray: '10, 10',\r\n                    fillColor: 'transparent'\r\n                }}\r\n            />\r\n\r\n            {/* Farm Center Marker */}\r\n            <Marker position={farmCenter}>\r\n                <Popup>\r\n                    <div className=\"text-sm\">\r\n                        <strong>Farm Location</strong>\r\n                        <br />\r\n                        Nashik, Maharashtra\r\n                        <br />\r\n                        Area: 2.5 Acres\r\n                    </div>\r\n                </Popup>\r\n            </Marker>\r\n\r\n            {/* NDVI Legend */}\r\n            {showNDVI && (\r\n                <div className=\"leaflet-bottom leaflet-left\" style={{ marginLeft: '10px', marginBottom: '50px' }}>\r\n                    <div className=\"bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg\">\r\n                        <p className=\"text-sm font-semibold mb-2\">NDVI</p>\r\n                        <div\r\n                            className=\"w-32 h-3 rounded\"\r\n                            style={{\r\n                                background: 'linear-gradient(90deg, hsl(0, 70%, 55%), hsl(45, 90%, 55%), hsl(142, 60%, 45%))'\r\n                            }}\r\n                        />\r\n                        <div className=\"flex justify-between text-xs text-gray-600 mt-1\">\r\n                            <span>Low</span>\r\n                            <span>High</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Soil Moisture Legend */}\r\n            {showSoilMoisture && (\r\n                <div className=\"leaflet-bottom leaflet-right\" style={{ marginRight: '10px', marginBottom: '50px' }}>\r\n                    <div className=\"bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg\">\r\n                        <p className=\"text-sm font-semibold mb-2\">Soil Moisture</p>\r\n                        <div\r\n                            className=\"w-32 h-3 rounded\"\r\n                            style={{\r\n                                background: 'linear-gradient(90deg, hsl(0, 70%, 55%), hsl(45, 90%, 55%), hsl(200, 80%, 55%))'\r\n                            }}\r\n                        />\r\n                        <div className=\"flex justify-between text-xs text-gray-600 mt-1\">\r\n                            <span>Dry</span>\r\n                            <span>Wet</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </MapContainer>\r\n    );\r\n}\r\n"],"names":[],"mappings":"iOAEA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,0CAIA,IAAM,EAAO,EAAA,OAAC,CAAC,IAAI,CAAC,CAChB,QAAS,8DACT,cAAe,iEACf,UAAW,gEACX,SAAU,CAAC,GAAI,GAAG,CAClB,WAAY,CAAC,GAAI,GAAG,CACpB,YAAa,CAAC,EAAG,CAAC,GAAG,CACrB,WAAY,CAAC,GAAI,GAAG,AACxB,GAUe,SAAS,EAAa,UACjC,CAAQ,CACR,kBAAgB,CAChB,mBAAiB,CACD,EAEhB,IAAM,EAA+B,CAAC,QAAS,QAAQ,CAUvD,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,CACT,OAAQ,EACR,KAAM,GACN,MAAO,CAAE,OAAQ,OAAQ,MAAO,MAAO,EACvC,UAAU,gBAGV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACN,IAAI,gGACJ,YAAY,6CACZ,QAAS,KAIb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACN,IAAI,wHACJ,YAAY,+CAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CACJ,UA7B6B,CACrC,AA4BmB,CA5BlB,OAAS,OAAQ,CAClB,CAAC,OAAS,OAAQ,CAClB,CAAC,OAAS,OAAQ,CAClB,CAAC,OAAS,OAAQ,CACrB,CAyBW,YAAa,CACT,MAAO,UACP,OAAQ,EACR,UAAW,SACX,UAAW,aACf,IAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,SAAU,WACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UACF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,kBACR,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAA,GAAK,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAA,GAAK,yBAOjB,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAA8B,MAAO,CAAE,WAAY,OAAQ,aAAc,MAAO,WAC3F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,SAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,UAAU,mBACV,MAAO,CACH,WAAY,iFAChB,IAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,QACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,iBAOrB,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BAA+B,MAAO,CAAE,YAAa,OAAQ,aAAc,MAAO,WAC7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,kBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,UAAU,mBACV,MAAO,CACH,WAAY,iFAChB,IAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,QACN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,kBAOlC,CA3GA,EAAA,OAAC,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAG"}